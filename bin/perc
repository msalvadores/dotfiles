#!/usr/bin/env python

import fileinput
import sys
import math

if len(sys.argv) < 3:
    print "usage: perc 95 file_with_numbers"
    sys.exit(-1)

perc = float(sys.argv[1]) / 100.0
path = sys.argv[2]
nums = list()
with open(path) as finput:
    for line in finput:
        n = float(line.strip().split("\t")[0])
        nums.append(n)
    finput.close()
nums = sorted(nums,reverse=False)
perc_index = int(math.ceil(float(len(nums)) * perc))
total = sum(nums)

top = 100 - int(sys.argv[1])
top_sum = sum(nums[perc_index:])
top_perc = (top_sum/total) * 100.0
print "size %d"%len(nums)
print "avg %.3f "%(total/float(len(nums)))
print "max %.3f "%nums[-1]
print "sum %.3f "%(total)
print "perc %s at %.3f"%(sys.argv[1],nums[perc_index])
print "top %d%% sum %.3f (%.1f%%)"%(top,top_sum,top_perc)
